if(SVGElement&&SVGElement.prototype){SVGElement.prototype.removeClass=function removeClass(b){var a=this.className.baseVal;b.split(" ").forEach(function(d){var c=new RegExp(" *\\b"+d+"\\b *","g");a=a.replace(c," ")});this.setAttribute("class",a.trim());return this};SVGElement.prototype.addClass=function addClass(b){var a=this.className.baseVal;b.split(" ").forEach(function(d){var c=new RegExp("\\b"+d+"\\b","g");if(-1===a.search(c)){a+=" "+d}});this.setAttribute("class",a);return this};SVGElement.prototype.hasClass=function hasClass(c){var b=this.className.baseVal;var a=new RegExp("\\b"+c+"\\b","g");if(-1===b.search(a)){return false}return true};SVGElement.prototype.getClass=function getClass(a){var b=this.className.baseVal;return b.split(" ")[a]}}var tooltip=function(){var d="tt";var p=3;var f=3;var o=300;var g=10;var e=20;var k=95;var i=0;var l,q,m,n,j;var a=document.all?true:false;return{show:function(c,b){if(l==null){l=document.createElement("div");l.setAttribute("id",d);q=document.createElement("div");q.setAttribute("id",d+"top");m=document.createElement("div");m.setAttribute("id",d+"cont");n=document.createElement("div");n.setAttribute("id",d+"bot");l.appendChild(m);document.body.appendChild(l);l.style.opacity=0;l.style.filter="alpha(opacity=0)";document.onmousemove=this.pos}l.style.display="block";m.innerHTML=c;l.style.width=b?b+"px":"auto";if(!b&&a){l.style.width=l.offsetWidth}if(l.offsetWidth>o){l.style.width=o+"px"}j=parseInt(l.offsetHeight)+p;clearInterval(l.timer);l.timer=setInterval(function(){tooltip.fade(1)},e)},pos:function(h){var c=a?event.clientY+document.documentElement.scrollTop:h.pageY;var b=a?event.clientX+document.documentElement.scrollLeft:h.pageX;l.style.top=(c-j)+"px";l.style.left=(b+f)+"px"},fade:function(h){var b=i;if((b!=k&&h==1)||(b!=0&&h==-1)){var c=g;if(k-b<g&&h==1){c=k-b}else{if(i<g&&h==-1){c=b}}i=b+(c*h);l.style.opacity=i*0.01;l.style.filter="alpha(opacity="+i+")"}else{clearInterval(l.timer);if(h==-1){l.style.display="none"}}},hide:function(){clearInterval(l.timer);l.timer=setInterval(function(){tooltip.fade(-1)},e)}}}();var liveSearch=function(){console.log("In liveSeatch");var b=$("input#topic_searchbox").val();var d=b.split(" ");$("html, #topic_list").animate({scrollTop:0},50);$("#topic_list").empty();$(".greyed").each(function(e,f){f.removeClass("greyed")});clearTopicData();clearArticleData();if(b==""){populateTopics();$(".search_clear").css("display","none")}else{$(".search_clear").show();var a=[];$.each(topics,function(f,e){var g=true;console.log(e.getWordlist());var h=Object.keys(e.getWordlist()).join(",").toLowerCase();d.forEach(function(i){if(h.indexOf(i)==-1){g=false}});if(g){a.push(e);$("g #"+e.id+"> rect").attr("class","")}else{$("g #"+e.id+"> rect").attr("class","greyed");$("path.t"+e.id+":not(.greyed)").each(function(i,j){j.addClass("greyed")})}});a.sort(function(f,e){var h=0;$.each(f.wordlist,function(j,i){if(j.indexOf(b)!=-1){h+=i}});var g=0;$.each(e.wordlist,function(j,i){if(j.indexOf(b)!=-1){g+=i}});return g-h});var c=0;a.forEach(function(e){addTopic(e);c=c+1});$("#topics_title").text("Topics ("+c+")")}};