var BEERVIZ=BEERVIZ||{};BEERVIZ.summary=(function(){var j=40;var h=[];var e=2000;var i=13000;var g="#963500";var d="#CB6C00";var c="#FDD978";var k=function(){b();f()};function b(){}var f=function(){var n=[];var o=[];var p=[];var m=[];var q=[];jQuery.getJSON("data/summary.json",function(r){jQuery.each(r,function(v,z){var w=[];var x=[];var y=[];var t={};var s={name:"",color:"1",data:[]};m.push(z.type);t.name=z.type;t.color=z.color;t.data=[z.user];q.push(t);for(var u=0;u<z.beers.length;u++){var s={name:"",color:"1",data:[]};w.push(z.beers[u].name);s.name=z.beers[u].name;s.data=[z.beers[u].data];s.color=z.beers[u].color;x.push(s)}y.push("Top 5 "+z.type+" Beer Styles");n.push(w);o.push(x);p.push(y)});a(n,o,p,m,q)})};function a(s,p,u,o,n){var r=[];var t={chart:{type:"column"},title:{text:"Popularity"},xAxis:{categories:o},yAxis:{min:e,max:140000,title:{text:"Number of users who rated the beer"}},tooltip:{headerFormat:'<span style="font-size:10px">{}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.0f}</b></td></tr>',footerFormat:"</table>",shared:false,useHTML:true},plotOptions:{column:{pointPadding:0.1,borderWidth:0}},series:n};for(var q=3;q<=5;q++){var m={chart:{type:"column"},title:{text:u[q-3]},xAxis:{categories:s[q-3]},tooltip:{headerFormat:'<span style="font-size:10px">{}</span><table>',pointFormat:'<tr><td style="color:{#274b6d};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.0f}</b></td></tr>',footerFormat:"</table>",shared:false,useHTML:true},plotOptions:{column:{pointPadding:0.1,borderWidth:1}},series:p[q-3]};r.push(m)}l(t,r)}function l(m,n){$("#chart1").highcharts({chart:{type:"column"},title:{text:"Ratings by Attributes (Scale 1-5)"},xAxis:{categories:["Aroma","Taste","Appearance","Overall",]},yAxis:{min:2.51,max:4.5,title:{text:"Avg. Rating (1-5)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.2f}</b></td></tr>',footerFormat:"</table>",shared:true,useHTML:true},plotOptions:{column:{pointPadding:0.1,borderWidth:0}},series:[{name:"Dark",color:"#39080b",data:[3.93,3.93,3.93,0]},{name:"Medium",color:"#CB6C00",data:[3.94,4.01,3.93,0]},{name:"Light",color:"#FDD978",data:[3.61,3.71,3.69,0]}]});$("#chart2").highcharts(m);$("#chart3").highcharts(n[0]);$("#chart4").highcharts(n[1]);$("#chart5").highcharts(n[2])}return{init:k}})();jQuery(document).ready(function(){BEERVIZ.summary.init()});