!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c(require("jquery")):d.bootbox=c(d.jQuery)}(this,function a(G,F){function E(d){var c=r[t.locale];return c?c[d]:r.en[d]}function D(b,h,g){b.stopPropagation(),b.preventDefault();var f=G.isFunction(g)&&g(b)===!1;f||h.modal("hide")}function C(e){var d,f=0;for(d in e){f++}return f}function B(b,f){var e=0;G.each(b,function(d,c){f(d,c,e++)})}function A(b){var f,e;if("object"!=typeof b){throw new Error("Please supply an object of options")}if(!b.message){throw new Error("Please specify a message")}return b=G.extend({},t,b),b.buttons||(b.buttons={}),b.backdrop=b.backdrop?"static":!1,f=b.buttons,e=C(f),B(f,function(c,g,d){if(G.isFunction(g)&&(g=f[c]={callback:g}),"object"!==G.type(g)){throw new Error("button with key "+c+" must be an object")}g.label||(g.label=c),g.className||(g.className=2>=e&&d===e-1?"btn-primary":"btn-default")}),b}function z(f,e){var h=f.length,g={};if(1>h||h>2){throw new Error("Invalid argument length")}return 2===h||"string"==typeof f[0]?(g[e[0]]=f[0],g[e[1]]=f[1]):g=f[0],g}function y(b,f,e){return G.extend(!0,{},b,z(f,e))}function x(g,f,j,i){var h={className:"bootbox-"+g,buttons:w.apply(null,f)};return v(y(h,i,j),f)}function w(){for(var h={},d=0,l=arguments.length;l>d;d++){var k=arguments[d],j=k.toLowerCase(),i=k.toUpperCase();h[j]={label:E(i)}}return h}function v(e,c){var f={};return B(c,function(g,d){f[d]=!0}),B(e.buttons,function(b){if(f[b]===F){throw new Error("button key "+b+" is not allowed (options are "+c.join("\n")+")")}}),e}var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},t={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},s={};s.alert=function(){var b;if(b=x("alert",["ok"],["message","callback"],arguments),b.callback&&!G.isFunction(b.callback)){throw new Error("alert requires callback property to be a function when provided")}return b.buttons.ok.callback=b.onEscape=function(){return G.isFunction(b.callback)?b.callback():!0},s.dialog(b)},s.confirm=function(){var b;if(b=x("confirm",["cancel","confirm"],["message","callback"],arguments),b.buttons.cancel.callback=b.onEscape=function(){return b.callback(!1)},b.buttons.confirm.callback=function(){return b.callback(!0)},!G.isFunction(b.callback)){throw new Error("confirm requires a callback")}return s.dialog(b)},s.prompt=function(){var H,p,n,m,l,j,g;if(m=G(u.form),p={className:"bootbox-prompt",buttons:w("cancel","confirm"),value:"",inputType:"text"},H=v(y(p,arguments,["title","callback"]),["cancel","confirm"]),j=H.show===F?!0:H.show,H.message=m,H.buttons.cancel.callback=H.onEscape=function(){return H.callback(null)},H.buttons.confirm.callback=function(){var f;switch(H.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":f=l.val();break;case"checkbox":var e=l.find("input:checked");f=[],B(e,function(h,i){f.push(G(i).val())})}return H.callback(f)},H.show=!1,!H.title){throw new Error("prompt requires a title")}if(!G.isFunction(H.callback)){throw new Error("prompt requires a callback")}if(!u.inputs[H.inputType]){throw new Error("invalid prompt type")}switch(l=G(u.inputs[H.inputType]),H.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":l.val(H.value);break;case"select":var c={};if(g=H.inputOptions||[],!g.length){throw new Error("prompt with select requires options")}B(g,function(f,i){var h=l;if(i.value===F||i.text===F){throw new Error("given options in wrong format")}i.group&&(c[i.group]||(c[i.group]=G("<optgroup/>").attr("label",i.group)),h=c[i.group]),h.append("<option value='"+i.value+"'>"+i.text+"</option>")}),B(c,function(e,d){l.append(d)}),l.val(H.value);break;case"checkbox":var b=G.isArray(H.value)?H.value:[H.value];if(g=H.inputOptions||[],!g.length){throw new Error("prompt with checkbox requires options")}if(!g[0].value||!g[0].text){throw new Error("given options in wrong format")}l=G("<div/>"),B(g,function(i,h){var f=G(u.inputs[H.inputType]);f.find("input").attr("value",h.value),f.find("label").append(h.text),B(b,function(e,d){d===h.value&&f.find("input").prop("checked",!0)}),l.append(f)})}return H.placeholder&&l.attr("placeholder",H.placeholder),H.pattern&&l.attr("pattern",H.pattern),m.append(l),m.on("submit",function(d){d.preventDefault(),d.stopPropagation(),n.find(".btn-primary").click()}),n=s.dialog(H),n.off("shown.bs.modal"),n.on("shown.bs.modal",function(){l.focus()}),j===!0&&n.modal("show"),n},s.dialog=function(e){e=A(e);var p=G(u.dialog),o=p.find(".modal-dialog"),n=p.find(".modal-body"),m=e.buttons,h="",g={onEscape:e.onEscape};if(B(m,function(d,c){h+="<button data-bb-handler='"+d+"' type='button' class='btn "+c.className+"'>"+c.label+"</button>",g[d]=c.callback}),n.find(".bootbox-body").html(e.message),e.animate===!0&&p.addClass("fade"),e.className&&p.addClass(e.className),"large"===e.size&&o.addClass("modal-lg"),"small"===e.size&&o.addClass("modal-sm"),e.title&&n.before(u.header),e.closeButton){var b=G(u.closeButton);e.title?p.find(".modal-header").prepend(b):b.css("margin-top","-10px").prependTo(n)}return e.title&&p.find(".modal-title").html(e.title),h.length&&(n.after(u.footer),p.find(".modal-footer").html(h)),p.on("hidden.bs.modal",function(c){c.target===this&&p.remove()}),p.on("shown.bs.modal",function(){p.find(".btn-primary:first").focus()}),p.on("escape.close.bb",function(c){g.onEscape&&D(c,p,g.onEscape)}),p.on("click",".modal-footer button",function(c){var f=G(this).data("bb-handler");D(c,p,g[f])}),p.on("click",".bootbox-close-button",function(c){D(c,p,g.onEscape)}),p.on("keyup",function(c){27===c.which&&p.trigger("escape.close.bb")}),G(e.container).append(p),p.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&p.modal("show"),p},s.setDefaults=function(){var b={};2===arguments.length?b[arguments[0]]=arguments[1]:b=arguments[0],G.extend(t,b)},s.hideAll=function(){return G(".bootbox").modal("hide"),s};var r={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return s.init=function(b){return a(b||G)},s});